{"version":3,"sources":["app.js","contact-detail.js","contact-list.js","environment.js","main.js","messages.js","no-selection.js","utility.js","web-api.js","resources/index.js","resources/elements/loading-indicator.js","resources/elements/mh-pop.js","resources/elements/utils/bootstrap-options.js","resources/elements/utils/tooltip-service.js"],"names":["App","inject","api","configureRouter","config","router","title","map","route","moduleId","name","ContactDetail","ea","activate","params","routeConfig","getContactDetails","id","then","contact","navModel","setTitle","firstName","originalContact","JSON","parse","stringify","publish","save","saveContact","toggled","canDeactivate","result","confirm","lastName","isRequesting","ContactList","contacts","subscribe","select","msg","found","find","x","Object","assign","created","getContactList","selectedId","debug","testing","configure","Promise","warnings","wForgottenReturn","aurelia","use","standardConfiguration","feature","developmentLogging","plugin","start","setRoot","ContactUpdated","ContactViewed","NoSelection","message","areEqual","obj1","obj2","keys","every","key","hasOwnProperty","latency","getId","email","phoneNumber","WebAPI","setTimeout","results","resolve","filter","instance","index","indexOf","push","globalResources","nprogress","LoadingIndicator","defaultValue","on","loadingChanged","newValue","done","MhPopoverCustomAttribute","Element","defaultBindingMode","twoWay","element","tooltipService","triggers","validPositions","valuesChanged","visible","listeners","in","handleShow","out","handleHide","click","outside","handleOutside","event","bind","includes","position","trigger","split","attached","setTriggers","customPopover","style","display","isOpen","detached","removeTriggers","popover","document","body","removeChild","tether","destroy","isOpenChanged","titleChanged","titleElement","innerHTML","bodyChanged","bodyElement","positionChanged","oldValue","oldPosition","triggerChanged","disabled","createPopover","classList","add","onToggle","open","remove","target","contains","getPositionClass","version","arrow","createElement","querySelector","appendChild","content","createAttachment","bootstrapOptions","TooltipService","attachment","targetAttachment","addEventListener","removeEventListener"],"mappings":"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","file":"app-bundle.js","sourcesContent":["import {WebAPI} from './web-api';\n\nexport class App {\n  static inject() { return [WebAPI]; }\n\n  constructor(api) {\n    this.api = api;\n  }\n\n  configureRouter(config, router){\n    config.title = 'Contacts';\n    config.map([\n      { route: '',              moduleId: 'no-selection',   title: 'Select'},\n      { route: 'contacts/:id',  moduleId: 'contact-detail', name:'contacts' }\n    ]);\n\n    this.router = router;\n  }\n}\n","import {EventAggregator} from 'aurelia-event-aggregator';\r\nimport {WebAPI} from './web-api';\r\nimport {ContactUpdated, ContactViewed} from './messages';\r\nimport {areEqual} from './utility';\r\n\r\nexport class ContactDetail {\r\n  static inject = [WebAPI, EventAggregator];\r\n\r\n  constructor(api, ea) {\r\n    this.api = api;\r\n    this.ea = ea;\r\n  }\r\n\r\n  activate(params, routeConfig) {\r\n    this.routeConfig = routeConfig;\r\n\r\n    return this.api.getContactDetails(params.id).then(contact => {\r\n      this.contact = contact;\r\n      this.routeConfig.navModel.setTitle(contact.firstName);\r\n      this.originalContact = JSON.parse(JSON.stringify(contact));\r\n      this.ea.publish(new ContactViewed(this.contact));\r\n    });\r\n  }\r\n\r\n  get canSave() {\r\n    return this.contact.firstName && this.contact.lastName && !this.api.isRequesting;\r\n  }\r\n\r\n  save() {\r\n    this.api.saveContact(this.contact).then(contact => {\r\n      this.contact = contact;\r\n      this.routeConfig.navModel.setTitle(contact.firstName);\r\n      this.originalContact = JSON.parse(JSON.stringify(contact));\r\n      this.ea.publish(new ContactUpdated(this.contact));\r\n    });\r\n  }\r\n\r\n  toggled() {\r\n\r\n  }\r\n\r\n  canDeactivate() {\r\n    if (!areEqual(this.originalContact, this.contact)){\r\n      let result = confirm('You have unsaved changes. Are you sure you wish to leave?');\r\n\r\n      if (!result) {\r\n        this.ea.publish(new ContactViewed(this.contact));\r\n      }\r\n\r\n      return result;\r\n    }\r\n\r\n    return true;\r\n  }\r\n}\r\n","import {EventAggregator} from 'aurelia-event-aggregator';\r\nimport {WebAPI} from './web-api';\r\nimport {ContactUpdated, ContactViewed} from './messages';\r\n\r\nexport class ContactList {\r\n  static inject = [WebAPI, EventAggregator];\r\n\r\n  constructor(api, ea) {\r\n    this.api = api;\r\n    this.contacts = [];\r\n\r\n    ea.subscribe(ContactViewed, msg => this.select(msg.contact));\r\n    ea.subscribe(ContactUpdated, msg => {\r\n      let id = msg.contact.id;\r\n      let found = this.contacts.find(x => x.id === id);\r\n      Object.assign(found, msg.contact);\r\n    });\r\n  }\r\n\r\n  created() {\r\n    this.api.getContactList().then(contacts => this.contacts = contacts);\r\n  }\r\n\r\n  select(contact) {\r\n    this.selectedId = contact.id;\r\n    return true;\r\n  }\r\n}\r\n","export default {\n  debug: true,\n  testing: true\n};\n","import environment from './environment';\n\n//Configure Bluebird Promises.\nPromise.config({\n  warnings: {\n    wForgottenReturn: false\n  }\n});\n\nexport function configure(aurelia) {\n  aurelia.use\n    .standardConfiguration()\n    .feature('resources');\n\n  if (environment.debug) {\n    aurelia.use.developmentLogging();\n  }\n\n  if (environment.testing) {\n    aurelia.use.plugin('aurelia-testing');\n  }\n\n  aurelia.start().then(() => aurelia.setRoot());\n}\n","export class ContactUpdated {\r\n  constructor(contact){\r\n    this.contact = contact;\r\n  }\r\n}\r\n\r\nexport class ContactViewed {\r\n  constructor(contact){\r\n    this.contact = contact;\r\n  }\r\n}","export class NoSelection {\r\n  constructor() {\r\n    this.message = \"Please Select a Contact.\";\r\n  }\r\n}","export function areEqual(obj1, obj2) {\n\treturn Object.keys(obj1).every((key) => obj2.hasOwnProperty(key) && (obj1[key] === obj2[key]));\n};","let latency = 200;\nlet id = 0;\n\nfunction getId(){\n  return ++id;\n}\n\nlet contacts = [\n  {\n    id:getId(),\n    firstName:'John',\n    lastName:'Tolkien',\n    email:'tolkien@inklings.com',\n    phoneNumber:'867-5309'\n  },\n  {\n    id:getId(),\n    firstName:'Clive',\n    lastName:'Lewis',\n    email:'lewis@inklings.com',\n    phoneNumber:'867-5309'\n  },\n  {\n    id:getId(),\n    firstName:'Owen',\n    lastName:'Barfield',\n    email:'barfield@inklings.com',\n    phoneNumber:'867-5309'\n  },\n  {\n    id:getId(),\n    firstName:'Charles',\n    lastName:'Williams',\n    email:'williams@inklings.com',\n    phoneNumber:'867-5309'\n  },\n  {\n    id:getId(),\n    firstName:'Roger',\n    lastName:'Green',\n    email:'green@inklings.com',\n    phoneNumber:'867-5309'\n  }\n];\n\nexport class WebAPI {\n  isRequesting = false;\n  \n  getContactList(){\n    this.isRequesting = true;\n    return new Promise(resolve => {\n      setTimeout(() => {\n        let results = contacts.map(x =>  { return {\n          id:x.id,\n          firstName:x.firstName,\n          lastName:x.lastName,\n          email:x.email\n        }});\n        resolve(results);\n        this.isRequesting = false;\n      }, latency);\n    });\n  }\n\n  getContactDetails(id){\n    this.isRequesting = true;\n    return new Promise(resolve => {\n      setTimeout(() => {\n        let found = contacts.filter(x => x.id == id)[0];\n        resolve(JSON.parse(JSON.stringify(found)));\n        this.isRequesting = false;\n      }, latency);\n    });\n  }\n\n  saveContact(contact){\n    this.isRequesting = true;\n    return new Promise(resolve => {\n      setTimeout(() => {\n        let instance = JSON.parse(JSON.stringify(contact));\n        let found = contacts.filter(x => x.id == contact.id)[0];\n\n        if(found){\n          let index = contacts.indexOf(found);\n          contacts[index] = instance;\n        }else{\n          instance.id = getId();\n          contacts.push(instance);\n        }\n\n        this.isRequesting = false;\n        resolve(instance);\n      }, latency);\n    });\n  }\n}\n","export function configure(config) {\n  config.globalResources(['./elements/loading-indicator', './elements/mh-pop']);\n}\n","import * as nprogress from 'nprogress';\r\nimport { bindable, noView, decorators } from 'aurelia-framework';\r\n\r\nexport let LoadingIndicator = decorators(\r\n  noView(['nprogress/nprogress.css']),\r\n  bindable({ name: 'loading', defaultValue: false })\r\n).on(class {\r\n  loadingChanged(newValue) {\r\n    if (newValue) {\r\n      nprogress.start();\r\n    } else {\r\n      nprogress.done();\r\n    }\r\n  }\r\n});\r\n","import {bindable, bindingMode, inject} from \"aurelia-framework\";\r\nimport {TooltipService} from \"./utils/tooltip-service\";\r\nimport {bootstrapOptions} from \"./utils/bootstrap-options\";\r\nimport velocity from \"velocity-animate\";\r\n\r\n@inject(Element, TooltipService)\r\nexport class MhPopoverCustomAttribute {\r\n\r\n    @bindable title;\r\n    @bindable body;\r\n    @bindable position = 'top';\r\n    @bindable disabled = false;\r\n    @bindable({defaultBindingMode: bindingMode.twoWay}) isOpen = false;\r\n    @bindable trigger = 'mouseover';\r\n    @bindable customPopover;\r\n    @bindable onToggle;\r\n\r\n    triggers = [];\r\n\r\n    validPositions = ['top', 'bottom', 'left', 'right'];\r\n    valuesChanged = false;\r\n    visible = false;\r\n\r\n    constructor(element, tooltipService) {\r\n        this.element = element;\r\n        this.tooltipService = tooltipService;\r\n\r\n        this.listeners = {\r\n            in: () => this.handleShow(),\r\n            out: () => this.handleHide(),\r\n            click: () => {\r\n                this.visible ? this.handleHide() : this.handleShow()\r\n            },\r\n            outside: event => this.handleOutside(event)\r\n        }\r\n    }\r\n\r\n    bind() {\r\n        if (!this.validPositions.includes(this.position)) {\r\n            this.position = 'top';\r\n        }\r\n\r\n        this.triggers = this.trigger.split(' ');\r\n    }\r\n\r\n    attached() {\r\n        this.tooltipService.setTriggers(this.element, this.triggers, this.listeners);\r\n\r\n\r\n        if (this.customPopover) {\r\n            this.customPopover.style.display = 'none';\r\n        }\r\n\r\n        this.attached = true;\r\n        if (this.isOpen) {\r\n            this.handleShow();\r\n        }\r\n    }\r\n\r\n    detached() {\r\n        this.tooltipService.removeTriggers(this.element, this.triggers, this.listeners);\r\n\r\n        if (this.popover) {\r\n            document.body.removeChild(this.popover);\r\n        }\r\n\r\n        if (this.tether) {\r\n            this.tether.destroy();\r\n        }\r\n    }\r\n\r\n    isOpenChanged() {\r\n        if (!this.attached) {\r\n            return;\r\n        }\r\n\r\n        if (this.isOpen) {\r\n            this.handleShow();\r\n        } else {\r\n            this.handleHide();\r\n        }\r\n    }\r\n\r\n    titleChanged() {\r\n        this.valuesChanged = true;\r\n\r\n        if (this.titleElement) {\r\n            this.titleElement.innerHTML = this.title;\r\n        }\r\n    }\r\n\r\n    bodyChanged() {\r\n        this.valuesChanged = true;\r\n\r\n        if (this.bodyElement) {\r\n            this.bodyElement.innerHTML = this.body;\r\n        }\r\n    }\r\n\r\n    positionChanged(newValue, oldValue) {\r\n        if (!this.validPositions.includes(newValue)) {\r\n            this.position = oldValue;\r\n            return;\r\n        }\r\n        this.oldPosition = oldValue;\r\n\r\n        this.valuesChanged = true;\r\n    }\r\n\r\n    triggerChanged(newValue, oldValue){\r\n        this.tooltipService.removeTriggers(this.element, this.triggers, this.listeners);\r\n\r\n        this.triggers = this.trigger.split(' ');\r\n        this.tooltipService.setTriggers(this.element, this.triggers, this.listeners);\r\n    }\r\n\r\n    handleShow() {\r\n        if (this.visible || this.disabled) {\r\n            return;\r\n        }\r\n\r\n        if (!this.popover || this.valuesChanged) {\r\n            this.createPopover();\r\n            this.valuesChanged = false;\r\n        }\r\n\r\n        this.popover.style.display = 'block';\r\n        this.tether.position();\r\n\r\n        velocity(this.popover, 'stop')\r\n            .then(() => {\r\n                velocity(this.popover, 'fadeIn')\r\n                    .then(() => {\r\n                        this.popover.classList.add('in');\r\n\r\n                        if (typeof this.onToggle === 'function') {\r\n                            this.onToggle({open: true});\r\n                        }\r\n                    });\r\n            });\r\n\r\n        this.visible = true;\r\n        this.isOpen = true;\r\n\r\n    }\r\n\r\n    handleHide() {\r\n        if (!this.visible) {\r\n            return;\r\n        }\r\n\r\n        velocity(this.popover, 'stop')\r\n            .then(() => {\r\n                velocity(this.popover, 'fadeOut')\r\n                    .then(() => {\r\n                        this.popover.classList.remove('in');\r\n\r\n                        if (typeof this.onToggle === 'function') {\r\n                            this.onToggle({open: false});\r\n                        }\r\n                    });\r\n            });\r\n\r\n        this.visible = false;\r\n        this.isOpen = false;\r\n    }\r\n\r\n    handleOutside(event) {\r\n        if (!this.visible) {\r\n            return;\r\n        }\r\n\r\n        if (this.element !== event.target && !this.popover.contains(event.target)) {\r\n            this.handleHide();\r\n        }\r\n    }\r\n\r\n    getPositionClass(position) {\r\n        return (bootstrapOptions.version === 4 ? 'popover-' : '') + position;\r\n\r\n    }\r\n\r\n    createPopover() {\r\n        let arrow = document.createElement('div');\r\n        arrow.classList.add('arrow');\r\n\r\n        if (this.customPopover) {\r\n            this.popover = this.customPopover;\r\n\r\n            this.popover.classList.remove(this.getPositionClass(this.oldPosition));\r\n\r\n            this.popover.classList.add('popover');\r\n            this.popover.classList.add(this.getPositionClass(this.position));\r\n\r\n            if(!this.popover.querySelector('.arrow')){\r\n                this.popover.appendChild(arrow);\r\n            }\r\n        }else{\r\n            if (this.popover) {\r\n                document.body.removeChild(this.popover);\r\n            }\r\n\r\n            this.popover = document.createElement('div');\r\n            this.popover.classList.add('popover');\r\n            this.popover.classList.add(this.getPositionClass(this.position));\r\n\r\n            this.popover.appendChild(arrow);\r\n\r\n            if (this.title) {\r\n                this.titleElement = document.createElement('h3');\r\n                this.titleElement.classList.add('popover-title');\r\n                this.titleElement.innerHTML = this.title;\r\n                this.popover.appendChild(this.titleElement);\r\n            }\r\n\r\n\r\n            let content = document.createElement('div');\r\n            content.classList.add('popover-content');\r\n            this.bodyElement = document.createElement('p');\r\n            this.bodyElement.innerHTML = this.body;\r\n            content.appendChild(this.bodyElement);\r\n            this.popover.appendChild(content);\r\n\r\n            document.body.appendChild(this.popover);\r\n        }\r\n\r\n        if(this.tether){\r\n            this.tether.destroy();\r\n        }\r\n\r\n        this.tether = this.tooltipService.createAttachment(this.element, this.popover, this.position);\r\n    }\r\n}","export let bootstrapOptions = {\r\n  version: 3\r\n};\r\n","import Tether from 'tether';\r\n\r\nexport class TooltipService{\r\n\r\n    createAttachment(target, element, position) {\r\n        let attachment;\r\n        let targetAttachment;\r\n\r\n        if (position === 'top') {\r\n            attachment = 'bottom center';\r\n            targetAttachment = \"top center\";\r\n        } else if (position === 'bottom') {\r\n            attachment = 'top center';\r\n            targetAttachment = \"bottom center\";\r\n        } else if (position === 'left') {\r\n            attachment = 'center right';\r\n            targetAttachment = \"center left\";\r\n        } else {\r\n            attachment = 'center left';\r\n            targetAttachment = \"center right\";\r\n        }\r\n\r\n        return new Tether({\r\n            element: element,\r\n            target: target,\r\n            attachment: attachment,\r\n            targetAttachment: targetAttachment\r\n        });\r\n    }\r\n    \r\n    setTriggers(element, triggers, listeners){\r\n        if (!triggers.includes('none')) {\r\n            if (triggers.includes('mouseover')) {\r\n                element.addEventListener('mouseover', listeners.in);\r\n                element.addEventListener('mouseleave', listeners.out);\r\n            }\r\n\r\n            if (triggers.includes('focus')) {\r\n                element.addEventListener('focus', listeners.in);\r\n                element.addEventListener('blur', listeners.out);\r\n            }\r\n\r\n            if (triggers.includes('click')) {\r\n                element.addEventListener('click', listeners.click);\r\n            } else if (triggers.includes('outsideClick')) {\r\n                element.addEventListener('click', listeners.in);\r\n                document.addEventListener('click', listeners.outside);\r\n            }\r\n        }\r\n    }\r\n    \r\n    removeTriggers(element, triggers, listeners){\r\n        if (!triggers.includes('none')) {\r\n            if (triggers.includes('mouseover')) {\r\n                element.removeEventListener('mouseover', listeners.in);\r\n                element.removeEventListener('mouseleave', listeners.out);\r\n            }\r\n\r\n            if (triggers.includes('focus')) {\r\n                element.removeEventListener('focus', listeners.in);\r\n                element.removeEventListener('blur', listeners.out);\r\n            }\r\n\r\n            if (triggers.includes('click')) {\r\n                element.removeEventListener('click', listeners.click);\r\n            } else if (triggers.includes('outsideClick')) {\r\n                element.removeEventListener('click', listeners.in);\r\n                document.removeEventListener('click', listeners.outside);\r\n            }\r\n        }\r\n    }\r\n}"],"sourceRoot":"../src"}